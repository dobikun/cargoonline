<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
    
    <f:view locale="#{localeChanger.currentLocale}">
    <h:head>     
        <meta charset="utf-8"></meta>

        <title>#{msg.welcome_title}</title>

        <h:outputScript library="js" name="common.js" target="head"/>
        <h:outputStylesheet library="css" name="bootstrap.min.css"  />
        <h:outputStylesheet library="css" name="signin.css"  />
    </h:head>
    <h:body>

        <div class="containe">
            <!-- Locale changer -->
            <center>
                <h:form>
                    <h:commandLink action="#{localeChanger.changeLocale('en')}">
                        <h:graphicImage library="images" name="en.png" />
                    </h:commandLink>
                        &#160;
                    <h:commandLink action="#{localeChanger.changeLocale('et')}">
                       <h:graphicImage library="images" name="et.png"/>
                    </h:commandLink>  
                </h:form>
            </center>   
            
            <h:form class="form-signin" role="form">
                
              <!-- <h2 class="form-signin-heading">#{msg.input_info}</h2> -->
                
                <br />
              
                <h:inputText class="form-control" p:placeholder="#{msg.placeholder}" id="username" required="true" requiredMessage="#{msg.login_required}"  value="#{user.username}" valueChangeListener="#{user.usernameStringChanged}">
                 <f:validator validatorId="cargo.web.validators.LoginValidator"/>
                    <!-- AJAX request -->
                 <f:ajax event="keyup" render="loginError"/>
                 <f:ajax  event="change" />
               </h:inputText> 
                
              <br />

              <h:commandButton action="pages/main?faces-redirect=true" class="btn btn-lg btn-primary btn-block" value="#{msg.entry}" onclick="return checkValue(this.form, '#{msg.login_required}');" />

              <br /><br />

             <h:message id="loginError" for="username" class="alert alert-danger" role="alert"/>
            </h:form>
        </div>
    </h:body>
    </f:view>
</html>

